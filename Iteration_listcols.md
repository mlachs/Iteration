Iteration and list columns
================
Miriam Lachs
2024-10-29

## Here is sime lists

``` r
l=list(
  vec_numeric = 1:4,
  unif_sample = runif(100),
  mat = matrix(1:8,nrow = 2,ncol = 4, byrow = TRUE),
  summary = summary(rnorm(1000))
)
l
```

    ## $vec_numeric
    ## [1] 1 2 3 4
    ## 
    ## $unif_sample
    ##   [1] 0.509743886 0.849089918 0.808167755 0.604924755 0.790981337 0.937911060
    ##   [7] 0.532874926 0.322695916 0.511756751 0.832104140 0.891087522 0.164971787
    ##  [13] 0.728776921 0.941842106 0.355280881 0.878136701 0.834226985 0.272485982
    ##  [19] 0.702033691 0.425728468 0.738069230 0.815060543 0.826602355 0.539203737
    ##  [25] 0.765408297 0.556982639 0.667531367 0.808825803 0.091653320 0.517856286
    ##  [31] 0.934238293 0.764344605 0.755168972 0.923899798 0.862109464 0.324139805
    ##  [37] 0.847305860 0.630654862 0.054744818 0.479775916 0.088930325 0.149680173
    ##  [43] 0.391067342 0.069013476 0.747480446 0.136391069 0.718781716 0.591763010
    ##  [49] 0.480974531 0.954646993 0.991262586 0.116468217 0.993213873 0.309622652
    ##  [55] 0.444722877 0.007582769 0.255524505 0.194822019 0.725537868 0.231493149
    ##  [61] 0.203608733 0.065123122 0.888079962 0.700765333 0.167500761 0.762683227
    ##  [67] 0.311383219 0.963773975 0.744596086 0.532988340 0.343040344 0.223085561
    ##  [73] 0.672508128 0.730776908 0.561701110 0.153939576 0.478413375 0.718566920
    ##  [79] 0.647281024 0.152113481 0.991178321 0.895537826 0.243418051 0.378199965
    ##  [85] 0.381480074 0.547622278 0.802639194 0.530736419 0.737461548 0.579154343
    ##  [91] 0.049039621 0.971517676 0.527770912 0.371297227 0.469441977 0.879677327
    ##  [97] 0.478654988 0.746106041 0.714568672 0.635598667
    ## 
    ## $mat
    ##      [,1] [,2] [,3] [,4]
    ## [1,]    1    2    3    4
    ## [2,]    5    6    7    8
    ## 
    ## $summary
    ##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
    ## -3.745069 -0.650938 -0.032444 -0.003531  0.630144  4.245850

``` r
l$mat
```

    ##      [,1] [,2] [,3] [,4]
    ## [1,]    1    2    3    4
    ## [2,]    5    6    7    8

``` r
l[["mat"]][1,3]
```

    ## [1] 3

``` r
l[[4]]
```

    ##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
    ## -3.745069 -0.650938 -0.032444 -0.003531  0.630144  4.245850

Make a list thats more useful

``` r
list_norm =
  list(
    a=rnorm(20,0,5),
    b=rnorm(20,4,5),
    c=rnorm(20,0,10),
    d=rnorm(20,4,10)
  )


list_norm[['b']]
```

    ##  [1]  9.88855143  8.63817109  3.50275275  4.11112365  7.80832460 -2.68160007
    ##  [7]  5.02319896 -0.75061608  4.45714709  6.18612570 13.06804430  4.48138404
    ## [13]  9.71872037 -1.47016802  6.56286258 -3.71950753 -1.61170102 -2.65412104
    ## [19]  1.80653864 -0.06862704

Let’s reuse the function we wrote lastime

``` r
mean_and_sd = function(x){
  mean_x=mean(x)
  sd_x=sd(x)
  
  outdf=
    tibble(
      mean=mean_x,
      sd= sd_x
    )
  return(outdf)
}
```

LEt’s use the function to take the mean and sd of all samples

``` r
mean_and_sd(list_norm[[1]])
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1 -1.50  5.32

``` r
mean_and_sd(list_norm[[2]])
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  3.61  4.86

``` r
mean_and_sd(list_norm[[3]])
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1 0.535  9.32

``` r
mean_and_sd(list_norm[[4]])
```

    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  3.14  8.50

## Use a for loop

Create output list and run a for loop

``` r
output = vector('list',length = 4)

for (i in 1:4) {
  output[[i]]= mean_and_sd(list_norm[[i]])
}

output
```

    ## [[1]]
    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1 -1.50  5.32
    ## 
    ## [[2]]
    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  3.61  4.86
    ## 
    ## [[3]]
    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1 0.535  9.32
    ## 
    ## [[4]]
    ## # A tibble: 1 × 2
    ##    mean    sd
    ##   <dbl> <dbl>
    ## 1  3.14  8.50
